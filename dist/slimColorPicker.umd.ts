var lt=Object.defineProperty;var at=(l,_,N)=>_ in l?lt(l,_,{enumerable:!0,configurable:!0,writable:!0,value:N}):l[_]=N;var E=(l,_,N)=>(at(l,typeof _!="symbol"?_+"":_,N),N);(function(l,_){typeof exports=="object"&&typeof module!="undefined"?module.exports=_(require("vue")):typeof define=="function"&&define.amd?define(["vue"],_):(l=typeof globalThis!="undefined"?globalThis:l||self,l.SlimColorPicker=_(l.Vue))})(this,function(l){"use strict";var _={beforeMount(r,e){const i=e.value,t="directive-clickout";r.clickEvent=function(h){h.target===r||r.contains(h.target)?r.classList.add(t):(r.classList.contains(t)&&r.classList.remove(t),i({el:r,event:h}))},document.addEventListener("click",r.clickEvent)},unmounted(r){document.removeEventListener("click",r.clickEvent)}};let N=/^\s+/,me=/\s+$/,y=Math.round,q=Math.min,D=Math.max,se={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};class pe{constructor(){E(this,"_originalInput");E(this,"_r");E(this,"_g");E(this,"_b");E(this,"_a");E(this,"_roundA");E(this,"_ok",!1);E(this,"rgb");E(this,"_format");E(this,"matchers")}init(e=""){this.matchers=this.getMathers();let i=this.inputToRGB(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=y(100*this._a/100),this._format=i.format,this._r<1&&(this._r=y(this._r)),this._g<1&&(this._g=y(this._g)),this._b<1&&(this._b=y(this._b)),this._ok=i.ok}inputToRGB(e){let i={r:0,g:0,b:0},t=1,h=null,s=null,u=null,d=!1,c="";return typeof e=="string"&&(e=this.stringInputToObject(e)),typeof e=="object"&&(this.isValidCSSUnit(e.r)&&this.isValidCSSUnit(e.g)&&this.isValidCSSUnit(e.b)?(i=this.rgbToRgb(e.r,e.g,e.b),d=!0,c=String(e.r).substring(-1)==="%"?"prgb":"rgb"):this.isValidCSSUnit(e.h)&&this.isValidCSSUnit(e.s)&&this.isValidCSSUnit(e.v)?(h=this.convertToPercentage(e.s),s=this.convertToPercentage(e.v),i=this.hsvToRgb(e.h,h,s),d=!0,c="hsv"):this.isValidCSSUnit(e.h)&&this.isValidCSSUnit(e.s)&&this.isValidCSSUnit(e.l)&&(h=this.convertToPercentage(e.s),u=this.convertToPercentage(e.l),i=this.hslToRgb(e.h,h,u),d=!0,c="hsl"),e.hasOwnProperty("a")&&(t=e.a)),t=this.boundAlpha(t),{ok:d,format:e.format||c,r:q(255,D(i.r,0)),g:q(255,D(i.g,0)),b:q(255,D(i.b,0)),a:t}}getMathers(){let e="[-\\+]?\\d+%?",t="(?:"+"[-\\+]?\\d*\\.\\d+%?"+")|(?:"+e+")",h="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",s="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+h),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+h),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+h),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}stringInputToObject(e){e=e.replace(N,"").replace(me,"").toLowerCase();let i=!1;if(se[e])e=se[e],i=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};let t;return(t=this.matchers.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=this.matchers.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=this.matchers.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=this.matchers.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=this.matchers.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=this.matchers.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=this.matchers.hex8.exec(e))?{r:this.parseIntFromHex(t[1]),g:this.parseIntFromHex(t[2]),b:this.parseIntFromHex(t[3]),a:this.convertHexToDecimal(t[4]),format:i?"name":"hex8"}:(t=this.matchers.hex6.exec(e))?{r:this.parseIntFromHex(t[1]),g:this.parseIntFromHex(t[2]),b:this.parseIntFromHex(t[3]),format:i?"name":"hex"}:(t=this.matchers.hex4.exec(e))?{r:this.parseIntFromHex(t[1]+""+t[1]),g:this.parseIntFromHex(t[2]+""+t[2]),b:this.parseIntFromHex(t[3]+""+t[3]),a:this.convertHexToDecimal(t[4]+""+t[4]),format:i?"name":"hex8"}:(t=this.matchers.hex3.exec(e))?{r:this.parseIntFromHex(t[1]+""+t[1]),g:this.parseIntFromHex(t[2]+""+t[2]),b:this.parseIntFromHex(t[3]+""+t[3]),format:i?"name":"hex"}:!1}isValidCSSUnit(e){return!!this.matchers.CSS_UNIT.exec(e)}rgbToRgb(e,i,t){return{r:this.bound01(e,255)*255,g:this.bound01(i,255)*255,b:this.bound01(t,255)*255}}convertToPercentage(e){return e<=1&&(e=e*100+"%"),e}hsvToRgb(e,i,t){e=this.bound01(e,360)*6,i=this.bound01(i,100),t=this.bound01(t,100);let h=Math.floor(e),s=e-h,u=t*(1-i),d=t*(1-s*i),c=t*(1-(1-s)*i),m=h%6,v=[t,d,u,u,c,t][m],Z=[c,t,t,d,u,u][m],J=[u,u,c,t,t,d][m];return{r:v*255,g:Z*255,b:J*255}}boundAlpha(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}hslToRgb(e,i,t){let h,s,u;e=this.bound01(e,360),i=this.bound01(i,100),t=this.bound01(t,100);function d(c,m,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?c+(m-c)*6*v:v<1/2?m:v<2/3?c+(m-c)*(2/3-v)*6:c}if(i===0)h=s=u=t;else{let c=t<.5?t*(1+i):t+i-t*i,m=2*t-c;h=d(m,c,e+1/3),s=d(m,c,e),u=d(m,c,e-1/3)}return{r:h*255,g:s*255,b:u*255}}parseIntFromHex(e){return parseInt(e,16)}convertHexToDecimal(e){return this.parseIntFromHex(e)/255}bound01(e,i){this.isOnePointZero(e)&&(e="100%");let t=this.isPercentage(e);return e=q(i,D(0,parseFloat(e))),t&&(e=parseInt((e*i).toString(),10)/100),Math.abs(e-i)<1e-6?1:e%i/parseFloat(i)}isOnePointZero(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}isPercentage(e){return typeof e=="string"&&e.indexOf("%")!=-1}toHsl(){let e=this.rgbToHsl(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}}rgbToHsl(e,i,t){e=this.bound01(e,255),i=this.bound01(i,255),t=this.bound01(t,255);let h=D(e,i,t),s=q(e,i,t),u,d,c=(h+s)/2;if(h==s)u=d=0;else{let m=h-s;switch(d=c>.5?m/(2-h-s):m/(h+s),h){case e:u=(i-t)/m+(i<t?6:0);break;case i:u=(t-e)/m+2;break;case t:u=(e-i)/m+4;break}u/=6}return{h:u,s:d,l:c}}setAlpha(e){return this._a=this.boundAlpha(e),this._roundA=y(100*this._a)/100,this}toHex(e=!1){return this.rgbToHex(this._r,this._g,this._b,e)}rgbToHex(e,i,t,h){let s=[this.pad2(y(e).toString(16)),this.pad2(y(i).toString(16)),this.pad2(y(t).toString(16))];return h&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}pad2(e){return e.length==1?"0"+e:""+e}toRgbString(){return this._a==1?"rgb("+y(this._r)+", "+y(this._g)+", "+y(this._b)+")":"rgba("+y(this._r)+", "+y(this._g)+", "+y(this._b)+", "+this._roundA+")"}toHslString(){let e=this.rgbToHsl(this._r,this._g,this._b),i=y(e.h*360),t=y(e.s*100),h=y(e.l*100);return this._a==1?"hsl("+i+", "+t+"%, "+h+"%)":"hsla("+i+", "+t+"%, "+h+"%, "+this._roundA+")"}getAlpha(){return this._a}toHsv(){let e=this.rgbToHsv(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}}rgbToHsv(e,i,t){e=this.bound01(e,255),i=this.bound01(i,255),t=this.bound01(t,255);let h=D(e,i,t),s=q(e,i,t),u,d,c=h,m=h-s;if(d=h===0?0:m/h,h==s)u=0;else{switch(h){case e:u=(i-t)/m+(i<t?6:0);break;case i:u=(t-e)/m+2;break;case t:u=(e-i)/m+4;break}u/=6}return{h:u,s:d,v:c}}getFormat(){return this._format}}var rt="",ge=(r,e)=>{const i=r.__vccOpts||r;for(const[t,h]of e)i[t]=h;return i};const be=l.defineComponent({props:{modelValue:{type:String,default:"hsl(216, 100%, 50%)"},initFormat:{type:String,default:"hex"},width:{type:Number,default:50},height:{type:Number,default:50},theme:{type:String,default:"light"},okText:{type:String,default:"OK"},radius:{type:Number,default:0},presets:{type:Array,default:[]}},directives:{clickout:_},setup(r,{attrs:e,slots:i,emit:t,expose:h}){let s=new pe;s.init(r.modelValue);let u=l.ref(r.initFormat),d=l.ref(null),c=l.ref(null),m=l.ref(null),v=l.ref(null),Z=l.ref(null),J=l.ref(null),oe=l.ref(null),de=l.ref(null),A=l.ref(279),B=l.ref(1),V=280,F=180,Q={xBegin:0,xEnd:280,yBegin:0,yEnd:180},ee=12,w=180,te={xBegin:0,xEnd:12,yBegin:0,yEnd:180},p=280,R=12,le={xBegin:0,xEnd:280,yBegin:0,yEnd:12},Y=l.ref(0),L=l.ref(180),x,X,U,{h:Te,s:Pe,l:Re,a:Me}=s.toHsl(),M=Te,Ne=Pe,Ie=Re,k=Me,b=l.ref(r.modelValue),I=l.ref(`hsl(${M}, ${Ne*100}%, ${Ie*100}%, ${k})`),z=l.ref(0),O=l.ref(0),K=l.ref(!1),T,P,ae=r.modelValue;l.watch(b,()=>{t("change",b.value)});const qe=()=>{x=v.value.getContext("2d"),G(),X=oe.value.getContext("2d"),Ue(X),u.value!=="hex"&&ce(),s.init(r.modelValue),$(s.toHsl()),re()},De=async()=>{K.value=!0,await l.nextTick(()=>{Le(),qe()})},Le=()=>{let o=c.value.getBoundingClientRect().left,a=c.value.getBoundingClientRect().top,f=d.value.clientWidth,n=d.value.clientHeight;o+r.width>=f?z.value=o-(f+6):z.value=o+r.width+6,a+r.height>=n?O.value=a-n+r.height:O.value=a,T=m.value.getBoundingClientRect().left+z.value,P=m.value.getBoundingClientRect().top+O.value},G=()=>{x&&x.clearRect(0,0,V,F);const o=x.createLinearGradient(1,1,Q.xEnd,0);s.init(b.value);let{h:a}=s.toHsl();o.addColorStop(1,`hsl(${a}, 100%, 50%)`),o.addColorStop(0,"hsl(0, 0%, 100%)"),x.fillStyle=o,x.fillRect(0,0,V,F);let f=x.createLinearGradient(1,1,0,Q.yEnd);f.addColorStop(0,"hsl(0, 0%, 0%, 0)"),f.addColorStop(1,"hsl(0, 0%, 0%, 1)"),x.fillStyle=f,x.fillRect(0,0,V,F)},Ue=o=>{let a=o.createLinearGradient(0,0,te.xEnd,te.yEnd);a.addColorStop(0,"#f00"),a.addColorStop(1/6,"#ff0"),a.addColorStop(2/6,"#0f0"),a.addColorStop(3/6,"#0ff"),a.addColorStop(4/6,"#00f"),a.addColorStop(5/6,"#f0f"),a.addColorStop(1,"#f00"),o.fillStyle=a,o.fillRect(0,0,ee,w)},j=()=>{U&&U.clearRect(0,0,p,R);let o=U.createLinearGradient(0,0,le.xEnd,le.yEnd);o.addColorStop(0,`hsl(${M}, 100%, 50%, 0)`),o.addColorStop(1,`hsl(${M}, 100%, 50%, 1)`),U.fillStyle=o,U.fillRect(0,0,p,R)},Ye=o=>{let a={x:o.clientX-T,y:o.clientY-P};if(a.x>=0&&a.x<V&&a.y>=0&&a.y<F){A.value=a.x,B.value=a.y;let{h:f,s:n,l:g}=H(x,a);$({h:f,s:n,l:g})}},Xe=o=>{let a={x:o.clientX-T,y:o.clientY-P};a.x>=0&&a.x<V&&a.y>=0&&a.y<F&&(document.onmousemove=function(f){let n={x:f.clientX-T,y:f.clientY-P};n.x=n.x<0?0:n.x>V-1?V-1:n.x,n.y=n.y<0?0:n.y>F?F:n.y,A.value=n.x,B.value=n.y;let{h:g,s:S,l:C}=H(x,n);$({h:g,s:S,l:C})}),document.onmouseup=function(f){document.onmouseup=document.onmousemove=null}},ze=o=>{let a={x:0,y:o.clientY-P};if(a.x>=0&&a.x<ee&&a.y>=0&&a.y<w){a.y=a.y<0?0:a.y>w-1?w-1:a.y,Y.value=a.y;let{h:f,s:n,l:g}=H(X,a);b.value=`hsl(${f}, 100%, 50%)`,$({h:f,s:n,l:g}),G(),u.value!=="hex"&&(M=f,j());let{h:S,s:C,l:W}=H(x,{x:A.value,y:B.value});I.value=`hsl(${S}, ${C*100}%, ${W*100}%, ${k})`}},Oe=o=>{let a={x:0,y:o.clientY-P};a.y>=0&&a.y<w&&(document.onmousemove=function(f){let n={x:0,y:f.clientY-P};n.y=n.y<0?0:n.y>w-1?w-1:n.y,Y.value=n.y;let{h:g,s:S,l:C}=H(X,n);b.value=`hsl(${g}, 100%, 50%)`,$({h:g,s:S,l:C}),G(),u.value!=="hex"&&(M=g,j());let{h:W,s:ie,l:ne}=H(x,{x:A.value,y:B.value});I.value=`hsl(${W}, ${ie*100}%, ${ne*100}%, ${k})`}),document.onmouseup=function(f){document.onmouseup=document.onmousemove=null}},Ge=o=>{let a={x:0,y:o.clientY-P};a.y>=0&&a.y<w&&(document.onmousemove=function(f){let n={x:0,y:f.clientY-P};n.y=n.y<0?0:n.y>w-1?w-1:n.y,Y.value=n.y;let{h:g,s:S,l:C}=H(X,n);b.value=`hsl(${g}, 100%, 50%)`,G(),$({h:g,s:S,l:C}),u.value!=="hex"&&(M=g,j());let{h:W,s:ie,l:ne}=H(x,{x:A.value,y:B.value});I.value=`hsl(${W}, ${ie*100}%, ${ne*100}%, ${k})`}),document.onmouseup=function(f){document.onmouseup=document.onmousemove=null}},je=o=>{let a={x:o.clientX-T,y:0};if(a.x>=0&&a.x<p&&a.y>=0&&a.y<R){a.x=a.x<0?0:a.x>p?p:a.x,L.value=a.x,k=parseFloat((a.x/p).toFixed(2));let{h:f,s:n,l:g}=H(x,{x:A.value,y:B.value});$({h:f,s:n,l:g})}},We=o=>{let a={x:o.clientX-T,y:0};a.x=a.x<0?0:a.x>p?p:a.x,a.x>=0&&a.x<=p&&a.y>=0&&a.y<=R&&(document.onmousemove=function(f){let n={x:f.clientX-T,y:0};if(n.x=n.x<0?0:n.x>p?p:n.x,n.x>=0&&n.x<=p&&n.y>=0&&n.y<=R){n.x=n.x<0?0:n.x>p?p:n.x,L.value=n.x,k=parseFloat((n.x/p).toFixed(2));let{h:g,s:S,l:C}=H(x,{x:A.value,y:B.value});$({h:g,s:S,l:C})}}),document.onmouseup=function(f){document.onmouseup=document.onmousemove=null}},Ze=o=>{let a={x:o.clientX-T,y:0};a.x=a.x<0?0:a.x>p?p:a.x,a.x>=0&&a.x<=p&&a.y>=0&&a.y<=R&&(document.onmousemove=function(f){let n={x:f.clientX-T,y:0};if(n.x>=0&&n.x<=p&&n.y>=0&&n.y<=R){n.x=n.x<0?0:n.x>p?p:n.x,L.value=n.x,k=parseFloat((n.x/p).toFixed(2));let{h:g,s:S,l:C}=H(x,{x:A.value,y:B.value});$({h:g,s:S,l:C})}}),document.onmouseup=function(f){document.onmouseup=document.onmousemove=null}},Ke=o=>Math.round(o*(v.value.offsetHeight-de.value.offsetHeight/2)/360),H=(o,a)=>{let f=o.getImageData(a.x,a.y,1,1);s.init({r:f.data[0],g:f.data[1],b:f.data[2]});let{h:n,s:g,l:S}=s.toHsl();return{h:n,s:g,l:S}},re=()=>{if(!b)return;let{h:o,s:a,l:f}=fe();G(),u.value!=="hex"&&(M=o,j()),I.value=`hsl(${o}, ${a*100}%, ${f*100}%, ${k})`,Je()},$=o=>{if(b.value==="")return;let a=he(o);b.value=a,I.value=`hsl(${o.h}, ${o.s*100}%, ${o.l*100}%, ${k})`},he=o=>{s.init(o),s.setAlpha(k);let a="";switch(u.value){case"hex":a=s.toHex();break;case"rgb":a=s.toRgbString();break;case"rgba":a=s.toRgbString();break;case"hsl":a=s.toHslString();break;case"hsla":a=s.toHslString();break}return a},fe=()=>(s.init(b.value),k=s.getAlpha(),s.toHsl()),Je=()=>{s.init(b.value);let{h:o,s:a,v:f}=s.toHsv(),n=Ke(o);Y.value=n,L.value=k*p;let g=Math.max(0,Math.min(100,a)),S=Math.max(0,Math.min(100,f));A.value=g*(V-1),B.value=(1-S)*F},ue=()=>{if(!b)return;b.value=he(b.value);let{h:o,s:a,l:f,a:n}=fe();u.value!=="hex"?(M=o,ce()):(k=n,I.value=`hsl(${o}, ${a*100}%, ${f*100}%, ${k})`,L.value=k*p)},ce=()=>{U=Z.value.getContext("2d"),j()},Qe=()=>{ae=b.value,t("update:modelValue",b.value)},et=()=>{if(K.value){s.init(ae);let{h:o,s:a,l:f,a:n}=s.toHsl();k=n,$({h:o,s:a,l:f}),tt()}},tt=()=>{K.value=!1,z.value=0,O.value=0};return{refColorPanel:d,refHandler:c,refBarHandler:de,refPanel:m,refSquare:v,refBar:oe,refBarAlpha:Z,refBarAlphaHandler:J,squareWidth:V,squareHeight:F,squarePots:Q,barWidth:ee,barHeight:w,barPots:te,barAlphaWidth:p,barAlphaHeight:R,barAlphaPots:le,inputValue:b,changeInput:re,previewColor:I,squarePointX:A,squarePointY:B,clickSquare:Ye,mouseDownSquare:Xe,clickBar:ze,mouseDownBar:Oe,barHandlerTop:Y,clickBarAlpha:je,mouseDownBarAlpha:We,mouseDownBarAlphaHandler:Ze,mouseDownBarHandler:Ge,barAlphaHandlerLeft:L,format:u,changeFormat:ue,colorPickerTop:O,colorPickerLeft:z,open:De,isShow:K,ok:Qe,cancel:et,choosePreset:o=>{ae=b.value,b.value=o,s.init(o),u.value=s.getFormat(),console.log("format.value: ",u.value),k=s.getAlpha(),ue(),re()}}}}),ye={class:"slim-color-picker"},xe={class:"slim-color-picker_panel_main"},ke={ref:"refPanel",class:"panel_main_square"},ve={class:"panel_main_bar"},Se={class:"slim-color-picker_panel_alpha"},_e={class:"slim-color-picker_panel_form"},we={class:"panel_form_input"},He={class:"form_input_format"},Ce=[l.createElementVNode("option",{value:"hex"},"Hex",-1),l.createElementVNode("option",{value:"rgb"},"RGB",-1),l.createElementVNode("option",{value:"hsl"},"HSL",-1)],Ee={key:0,class:"form_input_symbol"},Ae={class:"panel_form_confirm"},Be={key:0,class:"slim-color-picker_panel_preset"},$e=["onClick"];function Ve(r,e,i,t,h,s){const u=l.resolveDirective("clickout");return l.openBlock(),l.createElementBlock("div",ye,[l.createElementVNode("div",{class:"slim-color-picker_handler",style:l.normalizeStyle({width:`${r.width}px`,height:`${r.height}px`,borderRadius:`${r.radius}px`})},[l.createElementVNode("div",{ref:"refHandler",class:"slim-color-picker_handler_inner",style:l.normalizeStyle({width:`${r.width}px`,height:`${r.height}px`,background:r.previewColor,borderRadius:`${r.radius}px`}),onClick:e[0]||(e[0]=l.withModifiers((...d)=>r.open&&r.open(...d),["stop"]))},null,4)],4),r.isShow?l.withDirectives((l.openBlock(),l.createElementBlock("div",{key:0,ref:"refColorPanel",class:l.normalizeClass(["slim-color-picker_panel",{dark:r.theme==="dark"}]),style:l.normalizeStyle({left:`${r.colorPickerLeft}px`,top:`${r.colorPickerTop}px`})},[l.createElementVNode("div",xe,[l.createElementVNode("div",ke,[l.createElementVNode("canvas",{ref:"refSquare",width:"280",height:"180",class:"main_square_canvas",onClick:e[1]||(e[1]=l.withModifiers((...d)=>r.clickSquare&&r.clickSquare(...d),["stop"])),onMousedown:e[2]||(e[2]=l.withModifiers((...d)=>r.mouseDownSquare&&r.mouseDownSquare(...d),["stop"]))},null,544),l.createElementVNode("div",{class:"main_square_point",style:l.normalizeStyle({left:`${r.squarePointX}px`,top:`${r.squarePointY}px`})},null,4)],512),l.createElementVNode("div",ve,[l.createElementVNode("canvas",{ref:"refBar",width:"12",height:"180",class:"main_bar_canvas",onClick:e[3]||(e[3]=l.withModifiers((...d)=>r.clickBar&&r.clickBar(...d),["stop"])),onMousedown:e[4]||(e[4]=l.withModifiers((...d)=>r.mouseDownBar&&r.mouseDownBar(...d),["stop"]))},null,544),l.createElementVNode("div",{ref:"refBarHandler",class:"main_bar_handler",style:l.normalizeStyle({top:`${r.barHandlerTop}px`}),onMousedown:e[5]||(e[5]=l.withModifiers((...d)=>r.mouseDownBarHandler&&r.mouseDownBarHandler(...d),["stop"]))},null,36)])]),l.withDirectives(l.createElementVNode("div",Se,[l.createElementVNode("canvas",{ref:"refBarAlpha",width:"280",height:"12",onClick:e[6]||(e[6]=l.withModifiers((...d)=>r.clickBarAlpha&&r.clickBarAlpha(...d),["stop"])),onMousedown:e[7]||(e[7]=l.withModifiers((...d)=>r.mouseDownBarAlpha&&r.mouseDownBarAlpha(...d),["stop"]))},null,544),l.createElementVNode("div",{ref:"refBarAlphaHandler",class:"panel_alpha_handler",style:l.normalizeStyle({left:`${r.barAlphaHandlerLeft}px`}),onMousedown:e[8]||(e[8]=(...d)=>r.mouseDownBarAlphaHandler&&r.mouseDownBarAlphaHandler(...d))},null,36)],512),[[l.vShow,r.format!=="hex"]]),l.createElementVNode("div",_e,[l.createElementVNode("div",we,[l.createElementVNode("div",He,[l.withDirectives(l.createElementVNode("select",{class:"input_format_select","onUpdate:modelValue":e[9]||(e[9]=d=>r.format=d),onChange:e[10]||(e[10]=(...d)=>r.changeFormat&&r.changeFormat(...d))},Ce,544),[[l.vModelSelect,r.format]])]),r.format==="hex"?(l.openBlock(),l.createElementBlock("div",Ee,"#")):l.createCommentVNode("",!0),l.withDirectives(l.createElementVNode("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=d=>r.inputValue=d),class:"form_input_input",onChange:e[12]||(e[12]=(...d)=>r.changeInput&&r.changeInput(...d))},null,544),[[l.vModelText,r.inputValue]])]),l.createElementVNode("div",Ae,[l.createElementVNode("button",{type:"button",class:"form_confirm_btn",onClick:e[13]||(e[13]=l.withModifiers((...d)=>r.ok&&r.ok(...d),["stop"]))},l.toDisplayString(r.okText),1)])]),r.presets.length>0?(l.openBlock(),l.createElementBlock("div",Be,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(r.presets,(d,c)=>(l.openBlock(),l.createElementBlock("div",{class:"panel_preset_item",key:c,onClick:m=>r.choosePreset(d)},[l.createElementVNode("div",{class:"preset_item_inner",style:l.normalizeStyle({background:`${d}`})},null,4)],8,$e))),128))])):l.createCommentVNode("",!0)],6)),[[u,r.cancel]]):l.createCommentVNode("",!0)])}var Fe=ge(be,[["render",Ve]]);return Fe});
